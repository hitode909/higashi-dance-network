runtime: nodejs12

default_expiration: "1m"

skip_files:
- ^(node_modules/.*)
- ^(.git/.*)
- ^(public/kasanegi/node_modules/.*)

handlers:

- url: /favicon.ico
  static_files: public/favicon.ico
  upload: public/favicon.ico
  mime_type: image/x-icon

- url: /weather/
  script: weather.js

- url: /proxy/.*
  script: proxy.js

- url: /kasanegi/
  static_files: public/kasanegi/index.html
  upload: public/kasanegi/index.html
  secure: always
  redirect_http_response_code: 301
  http_headers:
    Feature-Policy: unsized-media 'none'

- url: (.*)/
  static_files: public\1/index.html
  upload: public(.*)/index.html

- url: /hanabi/uchiage/.*
  static_files: public/hanabi/uchiage/index.html
  upload: public/hanabi/uchiage/index.html

- url: /sukimap/suita/.*
  static_files: public/sukimap/suita/index.html
  upload: public/sukimap/suita/index.html

- url: /(.*)
  static_files: public/\1
  upload: public/(.*)
